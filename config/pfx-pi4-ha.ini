# ParadoxFX Raspberry Pi 4 Configuration (HA)
# ===========================================
# Supports: HDMI-0 + Headphone audio (HA = HDMI0 + Headphone)
# Copy to pfx.ini or use on its own for Pi4 single HDMI + analog audio
#
# REQUIREMENTS:
# - X11 display system (not Wayland) - use 'sudo raspi-config' to switch
# - PulseAudio (or PipeWire with PulseAudio compatibility)
# - /boot/firmware/config.txt must include:
#     gpu_mem=256
#     hdmi_force_hotplug=1
#     hdmi_drive=2
#     hdmi_group=2
#     hdmi_mode=82
#     consoleblank=0
# - Screen blanking disabled: run scripts/disable-screen-blanking.sh

[mqtt]
broker = 127.0.0.1
port = 1883
client_id = pfx-pi4-ha
keepalive = 60
clean_session = true

base_topic = paradox
device_name = pi4-ha

[global]
log_level = info
message_level = info
media_base_path = /opt/paradox/media
heartbeat_enabled = true
heartbeat_interval = 10000
heartbeat_topic = paradox/heartbeat
ducking_adjust = -40

# HDMI0 screen zone with Pi4 optimizations
[screen:zone1-hdmi0]
type = screen
topic = paradox/zone1/screen
media_dir = zone1
volume = 80
player_type = mpv
audio_device = pulse/alsa_output.platform-fef00700.hdmi.hdmi-stereo
display = :0
target_monitor = 0
default_image = default.png
mpv_video_profile = pi4-sw
background_volume = 80
speech_volume = 90
effects_volume = 100
video_volume = 85
max_volume = 150

# Headphone audio zone
[audio:headphones]
type = audio
topic = paradox/headphones/audio
media_dir = headphones
volume = 80
audio_device = pulse/alsa_output.platform-bcm2835-audio.analog-stereo
background_volume = 60
speech_volume = 75
effects_volume = 80
ducking_adjust = -40
max_volume = 120
