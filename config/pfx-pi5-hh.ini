# ParadoxFX Raspberry Pi 5 Configuration (HH)
# =========================================
# Supports: Dual HDMI audio only (HH = 2 HDMI outputs + audio)
# Copy to pfx.ini or use on its own for Pi5 dual-screen without analog audio
#
# REQUIREMENTS:
# - X11 display system (not Wayland) - use 'sudo raspi-config' to switch
# - ALSA audio configuration
# - Boot config: gpu_mem=256, hdmi optimizations
# - Both HDMI monitors connected and powered on

[mqtt]
broker = localhost
port = 1883
client_id = pfx-pi5-hh
keepalive = 60
clean_session = true
base_topic = paradox
device_name = pi5-hh

[global]
log_level = info
message_level = info
media_base_path = /opt/paradox/media
heartbeat_enabled = true
heartbeat_interval = 10000
heartbeat_topic = paradox/heartbeat
ducking_adjust = -40

# Dual HDMI audio zones with PipeWire
[screen:zone1-hdmi0]
type = screen
topic = paradox/zone1/screen
media_dir = zone1
volume = 80
max_volume = 120
player_type = mpv
audio_device = pulse/alsa_output.platform-107c701400.hdmi.hdmi-stereo
display = :0
xinerama_screen = 0
default_image = default.png
background_volume = 80
speech_volume = 90
effects_volume = 100
video_volume = 85
ducking_adjust = -40

[screen:zone2-hdmi1]
type = screen
topic = paradox/zone2/screen
media_dir = zone2
volume = 80
max_volume = 120
player_type = mpv
audio_device = pulse/alsa_output.platform-107c706400.hdmi.hdmi-stereo
display = :0
xinerama_screen = 1
default_image = default.png
background_volume = 80
speech_volume = 90
effects_volume = 100
video_volume = 85
ducking_adjust = -40

# zone3 = audio on HDMI0 and HDMI1 (dual output) - COMMENTED OUT FOR BROWSER TESTING
# [audio:zone3-dual-audio]
# type = audio
# topic = paradox/zone3
# media_dir = test
# volume = 80
# max_volume = 120
# player_type = mpv
# audio_device = pulse/combined_hdmi_output
# dual_output_mode = true
# primary_device = pulse/alsa_output.platform-107c701400.hdmi.hdmi-stereo
# secondary_device = pulse/alsa_output.platform-107c706400.hdmi.hdmi-stereo
# enabled = true
# Optional audio zone settings:
# name = zone3-dual-audio           # Friendly name (default: section ID)
# enabled = false                   # Enable this zone (default: true)
# background_music_volume = 80      # Volume for background music (0–150, default: 100)
# ducking_volume = 30               # Ducking level (0–150, default: 30)
# effects_volume = 100              # Effects volume (0–150, default: 100)
# speech_volume = 80                # Speech volume (0–150, default: 100)
# audio_queue_max = 1               # Max queued audio (default: 1)
# mpv_audio_options =               # Extra MPV audio CLI options (default: none)